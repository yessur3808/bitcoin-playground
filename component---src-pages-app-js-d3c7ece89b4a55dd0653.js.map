{"version":3,"file":"component---src-pages-app-js-d3c7ece89b4a55dd0653.js","mappings":"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","sources":["webpack://bitcoin-playground/./node_modules/@mui/icons-material/AddCircleOutline.js","webpack://bitcoin-playground/./node_modules/@mui/icons-material/RemoveCircle.js","webpack://bitcoin-playground/./src/components/multisignature/paytoscripthash.js","webpack://bitcoin-playground/./src/pages/app.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n}), 'AddCircleOutline');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z\"\n}), 'RemoveCircle');\n\nexports.default = _default;","import React from \"react\"\r\nimport * as bitcoin from 'bitcoinjs-lib';\r\nimport RemoveCircleIcon from '@mui/icons-material/RemoveCircle';\r\nimport AddCircleOutlineIcon from '@mui/icons-material/AddCircleOutline';\r\n\r\nclass GenerateMultisignature extends React.Component {\r\n    state = {\r\n        public_keys: [null],\r\n        approvals: 1,\r\n        addressMultiSig: null\r\n    };\r\n\r\n    customHandleUpdate = (name, val) => {\r\n        this.setState({\r\n            [name]: val\r\n        });\r\n    }\r\n\r\n    updatePublicKey = ev => {\r\n        var index = ev.target.getAttribute(\"data-index\"),\r\n        val = ev.target.value,\r\n        curPublicKey = [...this.state.public_keys];\r\n\r\n        curPublicKey[index] = val;\r\n        this.customHandleUpdate(\"public_keys\", curPublicKey)\r\n    }\r\n\r\n    // set Error messages near where the error occurs\r\n    setErrorMsg(class_name,msg, active){\r\n        var class_name_all = class_name+' .errorMsg';\r\n        var msgClassName = class_name_all+' p'; \r\n        if(active){\r\n            document.querySelector(class_name_all).classList.add('active');\r\n            document.querySelector(msgClassName).innerHTML = msg;\r\n        }else{\r\n            document.querySelectorAll(class_name_all).forEach(function(el) { // reset all validation icons\r\n                el.classList.remove('active');\r\n              });\r\n        }\r\n    }\r\n\r\n\r\n    genMultiSigAddress = () => {\r\n        var m = this.state.approvals,\r\n        pubkeys = this.state.public_keys\r\n        try {\r\n            const pubkeysBuff = pubkeys.map(hex => Buffer.from(hex, 'hex'));\r\n            const { address } = bitcoin.payments.p2sh({\r\n                redeem: bitcoin.payments.p2wsh({\r\n                    redeem: bitcoin.payments.p2ms({ m: +m, pubkeys: pubkeysBuff }),\r\n                }),\r\n            });\r\n            if (address) {\r\n                this.customHandleUpdate(\"addressMultiSig\", address)\r\n            }\r\n        } catch (error) {\r\n            alert(\"Failed to generate MultiSig address\")\r\n            console.error(\"Failed to generate MultiSig address - Error:\", error)\r\n        }\r\n    }\r\n\r\n\r\n    addPublicKey = ev => {\r\n        var curPublicKey = [...this.state.public_keys];\r\n        curPublicKey.push(null);\r\n        this.customHandleUpdate(\"public_keys\", curPublicKey)\r\n    }\r\n\r\n    removePublicKey = ev => {\r\n        var curindex = ev.target.getAttribute('data-index');\r\n        var curPublicKey = [...this.state.public_keys];\r\n        curPublicKey.splice(curindex, 1);\r\n        this.customHandleUpdate(\"public_keys\", curPublicKey)\r\n    }\r\n\r\n\r\n    validateFields = () => {\r\n        var public_key = this.state.public_keys,\r\n        approvals = this.state.approvals,\r\n        validateBool = true;\r\n        \r\n        if(!public_key){\r\n            validateBool = false;\r\n        }\r\n\r\n\r\n        if(public_key && !Array.isArray(public_key)){\r\n            validateBool = false;\r\n        }\r\n\r\n        if(public_key && Array.isArray(public_key) && public_key.length < 1){\r\n            validateBool = false;\r\n        }\r\n\r\n        return validateBool\r\n    }\r\n\r\n\r\n    handleSubmit = ev => {\r\n        ev.preventDefault();\r\n        if(this.validateFields()){\r\n            this.genMultiSigAddress();\r\n        }\r\n    }\r\n\r\n\r\n    render(){\r\n        return(\r\n            <section id=\"multi-sig\" className=\"pgSection\">\r\n                <h3 className=\"subheading\">\r\n                Generate a Multisignature Pay-To-Script-Hash bitcoin address\r\n                </h3>\r\n                <div className=\"section-container\">\r\n                    <div className=\"input-section\">\r\n\r\n\r\n                        {\r\n                            (this.state.public_keys.map((elem, idx) => \r\n                            (\r\n                                <label id={\"pubkeyLabel\"+idx} className=\"inputLabel publickeyLabel\">\r\n\r\n                                    {\r\n                                        (idx > 0) ? (\r\n                                        <div className=\"removeKey\" data-index={idx} onClick={this.removePublicKey}>\r\n                                            <RemoveCircleIcon />\r\n                                        </div>\r\n                                        ) : \"\"\r\n                                    }\r\n\r\n                                    <div className=\"fieldName\">Public Key #{(idx+1)}</div>\r\n\r\n                                    <input id={\"publickey\"+idx} className=\"fieldInput\" type=\"text\" name=\"Public Key\" placeholder=\"Enter a Public Key\" onChange={this.updatePublicKey} data-index={idx} value={(elem) ? (elem) : \"\"}  />\r\n\r\n                                    <div className=\"errorMsg\"><p></p></div>\r\n                                </label>\r\n                            )\r\n                        \r\n                        ))\r\n                    }\r\n                    \r\n                        \r\n\r\n                        <div id=\"addpubkey\" className=\"generatebtn\" onClick={this.addPublicKey}>\r\n                            <div className=\"addicon\">\r\n                                <AddCircleOutlineIcon />\r\n                            </div>\r\n                            Add Public Key\r\n                        </div>\r\n\r\n                        <label id=\"approvalLabel\" className=\"inputLabel\">\r\n                            <div className=\"fieldName\">Approvals</div>\r\n                            <input id=\"approvalsNum\" className=\"fieldInput\" type=\"text\" name=\"Approvals\" placeholder=\"0\" data-name=\"approvals\" onChange={this.handleUpdate}  value={this.state[\"approvals\"]}  />\r\n                            <div className=\"errorMsg\"><p></p></div>\r\n                        </label> \r\n\r\n\r\n                        <div id=\"submitBtn\" className=\"generatebtn\" onClick={this.handleSubmit} >\r\n                            Submit\r\n                        </div>\r\n                        \r\n\r\n\r\n\r\n                    </div>\r\n\r\n\r\n                    <div className=\"output-section\">\r\n\r\n                        <div className=\"displayVal full\">\r\n                            <div className=\"displayHeading\">Address</div>\r\n                            <div className=\"copyVal\">\r\n                                <textarea id=\"addressTxt\" readOnly onFocus={this.handleFocus} value={(this.state.addressMultiSig) ? this.state.addressMultiSig : \"\"}></textarea> \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n\r\n                </div>\r\n\r\n            </section>\r\n        )\r\n    }\r\n\r\n}\r\nexport default GenerateMultisignature","import React from \"react\";\r\nimport { Router } from \"@reach/router\";\r\nimport PlaygroundLayout from \"../layouts/playground\";\r\nimport GenerateBipSeed from \"../components/bip/generate\";\r\nimport GenerateHDAddress from \"../components/hierarchical/hd-address\"\r\nimport GenerateMultisignature from \"../components/multisignature/paytoscripthash\";\r\nimport CoinDisplay from \"../components/coindisplay/coin\";\r\nimport \"../styles/index.css\";\r\n\r\nclass App extends React.Component {\r\n    state = {};\r\n\r\n\r\n\r\n    render(){\r\n        return(\r\n            <>\r\n             <PlaygroundLayout path={\"/\"}>\r\n                <CoinDisplay />\r\n                <GenerateBipSeed />\r\n                <GenerateHDAddress />\r\n                <GenerateMultisignature />\r\n             </PlaygroundLayout>\r\n            </>\r\n           \r\n   \r\n        )\r\n    }\r\n\r\n    \r\n}\r\n\r\nexport default App"],"names":["_interopRequireDefault","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d","GenerateMultisignature","state","public_keys","approvals","addressMultiSig","customHandleUpdate","name","val","setState","updatePublicKey","ev","index","target","getAttribute","value","curPublicKey","genMultiSigAddress","m","pubkeys","pubkeysBuff","map","hex","Buffer","from","address","bitcoin","redeem","error","alert","console","addPublicKey","push","removePublicKey","curindex","splice","validateFields","public_key","validateBool","Array","isArray","length","handleSubmit","preventDefault","setErrorMsg","class_name","msg","active","class_name_all","msgClassName","document","querySelector","classList","add","innerHTML","querySelectorAll","forEach","el","remove","render","id","className","this","elem","idx","onClick","RemoveCircle","type","placeholder","onChange","AddCircleOutline","handleUpdate","readOnly","onFocus","handleFocus","React","App","path"],"sourceRoot":""}